<ngx-loading-bar ref="http" [includeSpinner]="false" [height]="'5px'" [color]="'rgb(124, 78, 34)'"></ngx-loading-bar>
<app-toasts aria-live="polite" aria-atomic="true"></app-toasts>
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
    <div class="container">
        <div class="navbar-wrapper d-flex">

          <div class="d-flex justify-content-start">
            <a class="navbar-brand " href="#">
              <img src="assets/img/logo.jpg " class="d-inline-block align-top logo" alt="">
              Januszex
            </a>

              <div class="admin buttons d-flex align-items-center " *ngIf="this.userType == 0" >
                <button type="button" class="bttn"  routerLink="warehouse" routerLinkActive="active-root">Warehouse</button>
                <button type="button" class="bttn "  routerLink="parcel-type" routerLinkActive="active-root">Parcel types</button>
                <button type="button" class="bttn "  routerLink="registration" routerLinkActive="active-root">User managment</button>
              </div>
  
              <div class="user buttons d-flex align-items-center" *ngIf="this.userType == 3 || this.userType == 4">
                <button  type="button" class="bttn " routerLink="send-parcel">Send parcel</button>
                <button  type="button" class="bttn " routerLink="my-parcels">My parcels</button>
                <button  type="button" class="bttn " routerLink="address-book">Address book</button>
              </div>
  
              <div class="user buttons d-flex align-items-center" *ngIf="this.userType == 1">
                <button  type="button" class="bttn" routerLink="assigned-parcels">My parcels</button>
              </div>
              
              <div class="user buttons d-flex align-items-center" *ngIf="this.userType == 2">
                <button  type="button" class="bttn " routerLink="logistician-assigned-parcels">Asign parcels</button>
              </div>
           
          </div>
            
            <div class="d-flex justify-content-end flex-grow-1">
              <button *ngIf="!isLoggedIn" type="button" class="bttn d-flex align-items-center on-right" (click)="open(content)">Log in</button>

              <div class="on-right " *ngIf="isLoggedIn">
                <div ngbDropdown>
                  <button class="btn btn-primary" id="dropdownBasic" ngbDropdownToggle>
                    <i class="far fa-user fa-2x"></i>
                  </button>
                  <div ngbDropdownMenu aria-labelledby="dropdownBasic">
                    <button ngbDropdownItem (click)="logout()" >Log out</button>
                  </div>
                </div>
                <p>{{userName}}</p>
              </div>

            </div>


        </div>
    </div>
</nav>  

<ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title text" id="modal-basic-title">Log in</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss();">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
     <login-page></login-page>
     <p>Don`t have an account? </p><button type="button" class="btn btn-outline-dark" (click)="modal.close('content')" routerLink="registration">Register here</button>
    </div>
  </ng-template>

<router-outlet></router-outlet>